\documentclass[a4paper,titlepage,11pt,twosides,floatssmall]{mwrep}
\usepackage[left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage[OT1]{fontenc}
\usepackage{polski}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{float}
\usepackage{url}
\usepackage{tikz}
\usetikzlibrary{arrows,calc,decorations.markings,math,arrows.meta}
\usepackage{rotating}
\usepackage[percent]{overpic}
\usepackage[cp1250]{inputenc}
\usepackage{xcolor}
\usepackage{colortbl}
\usepackage{pgfplots}
\usetikzlibrary{pgfplots.groupplots}
\usepackage{listings}
\usepackage{matlab-prettifier}
\usepackage{enumitem,amssymb}
\definecolor{szary}{rgb}{0.95,0.95,0.95}
\definecolor{niebieski}{rgb}{0,0.447,0.741}
\definecolor{czerwony}{rgb}{0.85,0.325,0.098}

\usepackage{siunitx}
%\usepackage{gensymb}
\sisetup{detect-weight,exponent-product=\cdot,output-decimal-marker={,},per-mode=symbol,binary-units=true,range-phrase={-},range-units=single}
\SendSettingsToPgf
%konfiguracje pakietu listings
\lstset{
	backgroundcolor=\color{szary},
	frame=single,
	breaklines=true,
}
\lstdefinestyle{customlatex}{
	basicstyle=\footnotesize\ttfamily,
	%basicstyle=\small\ttfamily,
}
\lstdefinestyle{customc}{
	breaklines=true,
	frame=tb,
	language=C,
	xleftmargin=0pt,
	showstringspaces=false,
	basicstyle=\small\ttfamily,
	keywordstyle=\bfseries\color{green!40!black},
	commentstyle=\itshape\color{purple!40!black},
	identifierstyle=\color{blue},
	stringstyle=\color{orange},
}
\lstdefinestyle{custommatlab}{
	captionpos=t,
	breaklines=true,
	frame=tb,
	xleftmargin=0pt,
	language=matlab,
	showstringspaces=false,
	basicstyle=\footnotesize\ttfamily,
	%basicstyle=\scriptsize\ttfamily,
	keywordstyle=\bfseries\color{green!40!black},
	commentstyle=\itshape\color{purple!40!black},
	identifierstyle=\color{blue},
	stringstyle=\color{orange},
}

%wymiar tekstu (bez ˜ywej paginy)
\textwidth 160mm \textheight 247mm

%ustawienia pakietu pgfplots
\pgfplotsset{
tick label style={font=\scriptsize},
label style={font=\small},
legend style={font=\small},
title style={font=\small}
}

\def\figurename{Rys.}
\def\tablename{Tab.}

%konfiguracja liczby p˜ywaj˜cych element˜w
\setcounter{topnumber}{0}%2
\setcounter{bottomnumber}{3}%1
\setcounter{totalnumber}{5}%3
\renewcommand{\textfraction}{0.01}%0.2
\renewcommand{\topfraction}{0.95}%0.7
\renewcommand{\bottomfraction}{0.95}%0.3
\renewcommand{\floatpagefraction}{0.35}%0.5
\renewcommand\thesection{\arabic{section}}

\begin{document}
\frenchspacing
\pagestyle{uheadings}

%strona tytu˜owa
\title{\bf Sprawozdanie z projektu i æwiczenia laboratoryjnego nr 1, zadanie nr 1\vskip 0.1cm}
\author{Hubert Kozubek, Przemys³aw Michalczewski}
\date{2021}

\makeatletter
\renewcommand{\maketitle}{\begin{titlepage}
\begin{center}{\LARGE {\bf
Wydzia³ Elektroniki i Technik Informacyjnych}}\\
\vspace{0.4cm}
{\LARGE {\bf Politechnika Warszawska}}\\
\vspace{0.3cm}
\end{center}
\vspace{5cm}
\begin{center}
{\bf \LARGE Projektowanie uk³adów w sterowania\\ (projekt grupowy) \vskip 0.1cm}
\end{center}
\vspace{1cm}
\begin{center}
{\bf \LARGE \@title}
\end{center}
\vspace{2cm}
\begin{center}
{\bf \Large \@author \par}
\end{center}
\vspace*{\stretch{6}}
\begin{center}
\bf{\large{Warszawa, \@date\vskip 0.1cm}}
\end{center}
\end{titlepage}
}
\makeatother

\maketitle

\tableofcontents

\section{Cele projektu i laboratoriów}
Celem niniejszego laboratorium oraz projektu by³o zaprojektowanie, implementacja,
weryfikacja poprawnoœci dzia³ania oraz dobór parametrów algorytmów regulacji jednowymiarowego
procesu na grzewczym stanowisku laboratoryjnym przedstawionym na rys \ref{Stanowisko grzewcze}.


\begin{figure}
	\centering
	\includegraphics[width=0.7\textwidth]{ ./Rysunki/Stanowisko-grzewcze.png }
	\caption {Stanowisko grzej¹co-ch³odz¹ce, u¿ywane w trakcie laboratoriów}
	\label{Stanowisko grzewcze}
\end{figure}

\begin{figure}
		\centering
		\includegraphics[width=0.7\textwidth]{ ./Rysunki/Stanowisko-grzewcze-schemat.png }
		\caption {Schemat stanowiska grzej¹co-ch³odz¹cego}
		\label{Stanowisko grzewcze, schemat}
\end{figure}

\section{Przebieg laboratorium}
Rozpoczynaj¹c pracê na stanowisku laboratoryjnym nale¿a³o ustawiæ moc wentylatora W1
na 50\%. Wentylator ten by³ traktowany jako cecha otoczenia. Dodatkowo sprawia³ on, ¿e temperatura grza³ki
opada³a szybciej, co by³o szczególnie przydatne pomiêdzy doœwiadczeniami.

W ramach laboratorium nale¿a³o wykonaæ 5 zadañ.

\begin{enumerate}
	\label{Lista-zadan}
  \item Odczytaæ wartoœc pomiaru termometru T1 dla mocy 26 grza³ki G1.
  \item Wyznaczyæ odpowiedŸ skokow¹ procesu dla 3 ró¿ych wartoœci G1.
  \item Wybraæ jedn¹ z dopowiedŸi skokowych, przekszta³ciæ j¹ i wykorzystaæ w algorytmie DMC. 
  \item Zaimplementowaæ algorytm PID i DMC, od regulacji procesu stanowiska, w jêzyku MATLAB.
  \item Dobraæ nastawy algorytmu PID oraz parametry algorytmu DMC metod¹ eksperymentaln¹.
\end{enumerate}

\subsection{Zad 1}
W pierwszej kolejnoœci nale¿a³o sprawdziæ mo¿liwoœæ sterowania i pomiaru w komunikacji ze stanowiskiem.
Nastêpnie  odczytaæ wartoœæ temperatury termometru T1 w wyznaczonym punkcie pracy G1=26.
Po ustawieniu mocy grza³ki i odczekaniu, a¿ temperatura T1 ustabilizuje siê,
odczytana wartoœæ termometru T1 wynosi³a \num{31.12} °C. Wykres temperatury na termometrze T1 zosta³ przedstawiony na rys. \ref{PunktPracy}

\begin{figure}
	\centering
	\input{../TikZ_rysunki/PunktPracy.tex}
	\caption{Ustalanie siê temperatury dla punktu pracy}
	\label{PunktPracy}
\end{figure}


\subsection{Zad 2}
W tej czœci laboratorium nale¿a³o przeprowadziæ eksperyment dla 3 rónych wartoœci mocy grza³ki G1.
Rozpoczynaj¹c eksperyment z punktu pracy G1=26, wyznaczono odpowiedzi skokowe procesu. Eksperyment by³ wykokany
dla trzech ró¿nych zmian sygna³u steruj¹cego, G1=36, G1=46 oraz G1=56.
Wykresy przedstawiaj¹ce zmiany temperatury przedstawiono odpowiednio na rys. \ref{Skok1} rys. \ref{Skok2} i rys. \ref{Skok3}

\begin{figure}
\centering
\input{../TikZ_rysunki/Skok1.tex}
\caption{OdpowiedŸ skokowa procesu dla zmiany sterowania G1 z 26 do 36}
\label{Skok1}
\end{figure}

\begin{figure}
\centering
\input{../TikZ_rysunki/Skok2.tex}
\caption{OdpowiedŸ skokowa procesu dla zmiany sterowania G1 z 26 do 46}
\label{Skok2}
\end{figure}

\begin{figure}
\centering
\input{../TikZ_rysunki/Skok3.tex}
\caption{OdpowiedŸ skokowa procesu dla zmiany sterowania G1 z 26 do 56}
\label{Skok3}
\end{figure}


\subsection{Zad 3}
Wykonanie tego zadania polega³o na przekszta³ceniu jedn¹ z odpowiedzi
skokowych, tak aby otrzymaæ odpowiedŸ skokow¹ u¿ywan¹ w algorymie DMC.
W tym celu wybrano drug¹ odpowiedŸ skokow¹, tj. skok G1 z mocy 26 do mocy 46.
Do przekszta³cenia zebranej odpowiedzi skokowej, na tak¹ nadaj¹c¹ siê do algorytmu DMC wykorzystano program TODO:"SkokDMC.m".
Program ten wylicza potrzebn¹ odpowiedŸ skokow¹ przy u¿yciu prostego wzoru.
\begin{equation}
	S(i)= \frac{Y(i) - Y_{\mathrm{pp}}}{U_{\mathrm{skok}} - U_{\mathrm{pp}}}
\end{equation}
gdzie:
\begin{itemize}
  \item $S(i)$ - odpowiedŸ skokowa potrzebna do algorytmu DMC,
	\item $Y(i)$ - odpowiedŸ skokowa przed przekszta³ceniem,
	\item $Y_{\mathrm{pp}}$ - wartoœæ wyjœcia w chwili k=0 (tutaj $Y_{\mathrm{pp}}$  = \num{31.12} ),
	\item $U_{\mathrm{skok}}$ - wartoœæ sterowanie w chwili k=0 i póŸniej (Tutaj $U_{\mathrm{skok}} = 46$),
	\item $U_{\mathrm{pp}}$ - wartoœc sterowania przed chwil¹ k=0 (Tutaj $U_{\mathrm{pp}} = 26$)
\end{itemize}
W ten sposób przekszta³cona odpowiedŸ skokowa zosta³a zapisana do pliku TODO: "dane1.mat"
i wykorzystana w dalszych czêœciach laboratorów.
\end{document}
